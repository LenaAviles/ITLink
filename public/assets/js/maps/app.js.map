{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/app.js","source/js/prepareSend.js","source/js/sendAjax.js"],"names":[],"mappings":"AAAA;;;ACAA;;;;;;AAEA,IAAM,YAAY,SAAS,aAAT,CAAuB,aAAvB,CAAlB;;AAEA,IAAI,SAAJ,EAAe;AACb,YAAU,gBAAV,CAA2B,QAA3B,EAAqC,gBAArC;AACD;;AAED,SAAS,gBAAT,CAA0B,CAA1B,EAA6B;AAC3B,IAAE,cAAF;AACA,MAAI,OAAO;AACT,WAAO,UAAU,KAAV,CAAgB,KADd;AAET,cAAU,UAAU,QAAV,CAAmB;AAFpB,GAAX;;AAKA,6BAAY,QAAZ,EAAsB,SAAtB,EAAiC,IAAjC,EAAuC,UAAS,IAAT,EAAe;AACpD,QAAI,SAAS,iBAAb,EAAgC;AAC9B,eAAS,IAAT,GAAgB,QAAhB;AACD;AACF,GAJD;AAKD;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;kBC3BwB,W;;AAFxB;;;;;;AAEe,SAAS,WAAT,CAAqB,GAArB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C;AACvD,MAAI,kBAAkB,KAAK,aAAL,CAAmB,SAAnB,CAAtB;AACA,kBAAgB,SAAhB,GAA4B,YAA5B;AACA,0BAAa,GAAb,EAAkB,IAAlB,EAAwB,UAAU,IAAV,EAAgB;AACtC,SAAK,KAAL;AACA,oBAAgB,SAAhB,GAA4B,IAA5B;AACA,QAAI,EAAJ,EAAQ;AACN,SAAG,IAAH;AACD;AACF,GAND;AAOD;;;;;;;;;kBCZc,UAAU,GAAV,EAAe,IAAf,EAAqB,EAArB,EAAyB;AACtC,MAAI,MAAM,IAAI,cAAJ,EAAV;AACA,MAAI,IAAJ,CAAS,MAAT,EAAiB,GAAjB,EAAsB,IAAtB;AACA,MAAI,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;AACA,MAAI,MAAJ,GAAa,UAAU,CAAV,EAAa;AACxB,QAAI,eAAJ;AACA,QAAI;AACF,eAAS,KAAK,KAAL,CAAW,IAAI,YAAf,CAAT;AACD,KAFD,CAEE,OAAO,CAAP,EAAU;AACV,SAAG,OAAH;AACD;AACD,OAAG,OAAO,MAAV;AACD,GARD;AASA,MAAI,IAAJ,CAAS,KAAK,SAAL,CAAe,IAAf,CAAT;AACD,C","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import prepareSend from './prepareSend';\r\n\r\nconst formLogin = document.querySelector('#login-form');\r\n\r\nif (formLogin) {\r\n  formLogin.addEventListener('submit', prepareSendLogin);\r\n}\r\n\r\nfunction prepareSendLogin(e) {\r\n  e.preventDefault();\r\n  let data = {\r\n    login: formLogin.login.value,\r\n    password: formLogin.password.value\r\n  };\r\n  \r\n  prepareSend('/login', formLogin, data, function(data) {\r\n    if (data === 'Login succeeded') {\r\n      location.href = '/admin';\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// var _logined = false;\r\n\r\n// if (!_logined) {\r\n//     $('#main-sidebar').hide();\r\n//     var main = $('#main-content');\r\n//     main.width(main.parent().width());\r\n// }\r\n\r\n","import sendAjaxJson from './sendAjax';\r\n\r\nexport default function prepareSend(url, form, data, cb) {\r\n  let resultContainer = form.querySelector('.status');\r\n  resultContainer.innerHTML = 'Sending...';\r\n  sendAjaxJson(url, data, function (data) {\r\n    form.reset();\r\n    resultContainer.innerHTML = data;\r\n    if (cb) {\r\n      cb(data);\r\n    }\r\n  });\r\n}","export default function (url, data, cb) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open('POST', url, true);\r\n  xhr.setRequestHeader('Content-Type', 'application/json');\r\n  xhr.onload = function (e) {\r\n    let result;\r\n    try {\r\n      result = JSON.parse(xhr.responseText);\r\n    } catch (e) {\r\n      cb('Error');\r\n    }\r\n    cb(result.status);\r\n  };\r\n  xhr.send(JSON.stringify(data));\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvanMvYXBwLmpzIiwic291cmNlL2pzL3ByZXBhcmVTZW5kLmpzIiwic291cmNlL2pzL3NlbmRBamF4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7O0FBRUEsSUFBTSxZQUFZLFNBQVMsYUFBVCxDQUF1QixhQUF2QixDQUFsQjs7QUFFQSxJQUFJLFNBQUosRUFBZTtBQUNiLFlBQVUsZ0JBQVYsQ0FBMkIsUUFBM0IsRUFBcUMsZ0JBQXJDO0FBQ0Q7O0FBRUQsU0FBUyxnQkFBVCxDQUEwQixDQUExQixFQUE2QjtBQUMzQixJQUFFLGNBQUY7QUFDQSxNQUFJLE9BQU87QUFDVCxXQUFPLFVBQVUsS0FBVixDQUFnQixLQURkO0FBRVQsY0FBVSxVQUFVLFFBQVYsQ0FBbUI7QUFGcEIsR0FBWDs7QUFLQSw2QkFBWSxRQUFaLEVBQXNCLFNBQXRCLEVBQWlDLElBQWpDLEVBQXVDLFVBQVMsSUFBVCxFQUFlO0FBQ3BELFFBQUksU0FBUyxpQkFBYixFQUFnQztBQUM5QixlQUFTLElBQVQsR0FBZ0IsUUFBaEI7QUFDRDtBQUNGLEdBSkQ7QUFLRDs7QUFHRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztrQkMzQndCLFc7O0FBRnhCOzs7Ozs7QUFFZSxTQUFTLFdBQVQsQ0FBcUIsR0FBckIsRUFBMEIsSUFBMUIsRUFBZ0MsSUFBaEMsRUFBc0MsRUFBdEMsRUFBMEM7QUFDdkQsTUFBSSxrQkFBa0IsS0FBSyxhQUFMLENBQW1CLFNBQW5CLENBQXRCO0FBQ0Esa0JBQWdCLFNBQWhCLEdBQTRCLFlBQTVCO0FBQ0EsMEJBQWEsR0FBYixFQUFrQixJQUFsQixFQUF3QixVQUFVLElBQVYsRUFBZ0I7QUFDdEMsU0FBSyxLQUFMO0FBQ0Esb0JBQWdCLFNBQWhCLEdBQTRCLElBQTVCO0FBQ0EsUUFBSSxFQUFKLEVBQVE7QUFDTixTQUFHLElBQUg7QUFDRDtBQUNGLEdBTkQ7QUFPRDs7Ozs7Ozs7O2tCQ1pjLFVBQVUsR0FBVixFQUFlLElBQWYsRUFBcUIsRUFBckIsRUFBeUI7QUFDdEMsTUFBSSxNQUFNLElBQUksY0FBSixFQUFWO0FBQ0EsTUFBSSxJQUFKLENBQVMsTUFBVCxFQUFpQixHQUFqQixFQUFzQixJQUF0QjtBQUNBLE1BQUksZ0JBQUosQ0FBcUIsY0FBckIsRUFBcUMsa0JBQXJDO0FBQ0EsTUFBSSxNQUFKLEdBQWEsVUFBVSxDQUFWLEVBQWE7QUFDeEIsUUFBSSxlQUFKO0FBQ0EsUUFBSTtBQUNGLGVBQVMsS0FBSyxLQUFMLENBQVcsSUFBSSxZQUFmLENBQVQ7QUFDRCxLQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDVixTQUFHLE9BQUg7QUFDRDtBQUNELE9BQUcsT0FBTyxNQUFWO0FBQ0QsR0FSRDtBQVNBLE1BQUksSUFBSixDQUFTLEtBQUssU0FBTCxDQUFlLElBQWYsQ0FBVDtBQUNELEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHByZXBhcmVTZW5kIGZyb20gJy4vcHJlcGFyZVNlbmQnO1xyXG5cclxuY29uc3QgZm9ybUxvZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvZ2luLWZvcm0nKTtcclxuXHJcbmlmIChmb3JtTG9naW4pIHtcclxuICBmb3JtTG9naW4uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgcHJlcGFyZVNlbmRMb2dpbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmVTZW5kTG9naW4oZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBsZXQgZGF0YSA9IHtcclxuICAgIGxvZ2luOiBmb3JtTG9naW4ubG9naW4udmFsdWUsXHJcbiAgICBwYXNzd29yZDogZm9ybUxvZ2luLnBhc3N3b3JkLnZhbHVlXHJcbiAgfTtcclxuICBcclxuICBwcmVwYXJlU2VuZCgnL2xvZ2luJywgZm9ybUxvZ2luLCBkYXRhLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBpZiAoZGF0YSA9PT0gJ0xvZ2luIHN1Y2NlZWRlZCcpIHtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICcvYWRtaW4nO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuLy8gdmFyIF9sb2dpbmVkID0gZmFsc2U7XHJcblxyXG4vLyBpZiAoIV9sb2dpbmVkKSB7XHJcbi8vICAgICAkKCcjbWFpbi1zaWRlYmFyJykuaGlkZSgpO1xyXG4vLyAgICAgdmFyIG1haW4gPSAkKCcjbWFpbi1jb250ZW50Jyk7XHJcbi8vICAgICBtYWluLndpZHRoKG1haW4ucGFyZW50KCkud2lkdGgoKSk7XHJcbi8vIH1cclxuXHJcbiIsImltcG9ydCBzZW5kQWpheEpzb24gZnJvbSAnLi9zZW5kQWpheCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmVwYXJlU2VuZCh1cmwsIGZvcm0sIGRhdGEsIGNiKSB7XHJcbiAgbGV0IHJlc3VsdENvbnRhaW5lciA9IGZvcm0ucXVlcnlTZWxlY3RvcignLnN0YXR1cycpO1xyXG4gIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSAnU2VuZGluZy4uLic7XHJcbiAgc2VuZEFqYXhKc29uKHVybCwgZGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGZvcm0ucmVzZXQoKTtcclxuICAgIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgIGNiKGRhdGEpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHVybCwgZGF0YSwgY2IpIHtcclxuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xyXG4gIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNiKCdFcnJvcicpO1xyXG4gICAgfVxyXG4gICAgY2IocmVzdWx0LnN0YXR1cyk7XHJcbiAgfTtcclxuICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbn0iXX0="}