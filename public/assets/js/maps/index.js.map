{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/index.js","source/js/prepareSend.js","source/js/sendAjax.js"],"names":[],"mappings":"AAAA;;;ACCA;;;;;;AAEA,SAAS,cAAT,CAAwB,cAAxB,EAAwC,SAAxC,GAAoD,MAApD,C,CAA2D;;AAE3D,IAAM,cAAc,SAAS,aAAT,CAAuB,WAAvB,CAApB;;AAEA,YAAY,gBAAZ,CAA6B,QAA7B,EAAuC,eAAvC;;AAEA,SAAS,eAAT,CAAyB,CAAzB,EAA4B;AACxB,IAAE,cAAF;AACA,UAAQ,GAAR,CAAY,CAAZ;;AAEA,MAAI,OAAO;AACT,YAAQ,qBADC;AAET,UAAM,IAAI,IAAJ,EAFG;AAGT,UAAM,YAAY,IAAZ,CAAiB;AAHd,GAAX;;AAMA,6BAAY,UAAZ,EAAwB,WAAxB,EAAqC,IAArC;AACD;;;;;;;;kBClBqB,W;;AAFxB;;;;;;AAEe,SAAS,WAAT,CAAqB,GAArB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C;AACvD,MAAI,kBAAkB,KAAK,aAAL,CAAmB,SAAnB,CAAtB;AACA,kBAAgB,SAAhB,GAA4B,YAA5B;AACA,0BAAa,GAAb,EAAkB,IAAlB,EAAwB,UAAU,IAAV,EAAgB;AACtC,SAAK,KAAL;AACA,oBAAgB,SAAhB,GAA4B,IAA5B;AACA,QAAI,EAAJ,EAAQ;AACN,SAAG,IAAH;AACD;AACF,GAND;AAOD;;;;;;;;;kBCZc,UAAU,GAAV,EAAe,IAAf,EAAqB,EAArB,EAAyB;AACtC,MAAI,MAAM,IAAI,cAAJ,EAAV;AACA,MAAI,IAAJ,CAAS,MAAT,EAAiB,GAAjB,EAAsB,IAAtB;AACA,MAAI,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;AACA,MAAI,MAAJ,GAAa,UAAU,CAAV,EAAa;AACxB,QAAI,eAAJ;AACA,QAAI;AACF,eAAS,KAAK,KAAL,CAAW,IAAI,YAAf,CAAT;AACD,KAFD,CAEE,OAAO,CAAP,EAAU;AACV,SAAG,OAAH;AACD;AACD,OAAG,OAAO,MAAV;AACD,GARD;AASA,MAAI,IAAJ,CAAS,KAAK,SAAL,CAAe,IAAf,CAAT;AACD,C","file":"../index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\nimport prepareSend from './prepareSend';\r\n\r\ndocument.getElementById(\"current-date\").innerHTML = Date();//.toString().split(' ').splice(1,3).join(' ');\r\n\r\nconst formAddNews = document.querySelector('#add-news');\r\n\r\nformAddNews.addEventListener('submit', prepareSendPost);\r\n\r\nfunction prepareSendPost(e) {    \r\n    e.preventDefault(); \r\n    console.log(e);  \r\n    \r\n    let data = {\r\n      author: 'Lena Ricabal Aviles',\r\n      date: new Date(),\r\n      text: formAddNews.text.value\r\n    };\r\n    \r\n    prepareSend('/addpost', formAddNews, data);\r\n  }","import sendAjaxJson from './sendAjax';\r\n\r\nexport default function prepareSend(url, form, data, cb) {\r\n  let resultContainer = form.querySelector('.status');\r\n  resultContainer.innerHTML = 'Sending...';\r\n  sendAjaxJson(url, data, function (data) {\r\n    form.reset();\r\n    resultContainer.innerHTML = data;\r\n    if (cb) {\r\n      cb(data);\r\n    }\r\n  });\r\n}","export default function (url, data, cb) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open('POST', url, true);\r\n  xhr.setRequestHeader('Content-Type', 'application/json');\r\n  xhr.onload = function (e) {\r\n    let result;\r\n    try {\r\n      result = JSON.parse(xhr.responseText);\r\n    } catch (e) {\r\n      cb('Error');\r\n    }\r\n    cb(result.status);\r\n  };\r\n  xhr.send(JSON.stringify(data));\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvanMvaW5kZXguanMiLCJzb3VyY2UvanMvcHJlcGFyZVNlbmQuanMiLCJzb3VyY2UvanMvc2VuZEFqYXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBOzs7Ozs7QUFFQSxTQUFTLGNBQVQsQ0FBd0IsY0FBeEIsRUFBd0MsU0FBeEMsR0FBb0QsTUFBcEQsQyxDQUEyRDs7QUFFM0QsSUFBTSxjQUFjLFNBQVMsYUFBVCxDQUF1QixXQUF2QixDQUFwQjs7QUFFQSxZQUFZLGdCQUFaLENBQTZCLFFBQTdCLEVBQXVDLGVBQXZDOztBQUVBLFNBQVMsZUFBVCxDQUF5QixDQUF6QixFQUE0QjtBQUN4QixJQUFFLGNBQUY7QUFDQSxVQUFRLEdBQVIsQ0FBWSxDQUFaOztBQUVBLE1BQUksT0FBTztBQUNULFlBQVEscUJBREM7QUFFVCxVQUFNLElBQUksSUFBSixFQUZHO0FBR1QsVUFBTSxZQUFZLElBQVosQ0FBaUI7QUFIZCxHQUFYOztBQU1BLDZCQUFZLFVBQVosRUFBd0IsV0FBeEIsRUFBcUMsSUFBckM7QUFDRDs7Ozs7Ozs7a0JDbEJxQixXOztBQUZ4Qjs7Ozs7O0FBRWUsU0FBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQWdDLElBQWhDLEVBQXNDLEVBQXRDLEVBQTBDO0FBQ3ZELE1BQUksa0JBQWtCLEtBQUssYUFBTCxDQUFtQixTQUFuQixDQUF0QjtBQUNBLGtCQUFnQixTQUFoQixHQUE0QixZQUE1QjtBQUNBLDBCQUFhLEdBQWIsRUFBa0IsSUFBbEIsRUFBd0IsVUFBVSxJQUFWLEVBQWdCO0FBQ3RDLFNBQUssS0FBTDtBQUNBLG9CQUFnQixTQUFoQixHQUE0QixJQUE1QjtBQUNBLFFBQUksRUFBSixFQUFRO0FBQ04sU0FBRyxJQUFIO0FBQ0Q7QUFDRixHQU5EO0FBT0Q7Ozs7Ozs7OztrQkNaYyxVQUFVLEdBQVYsRUFBZSxJQUFmLEVBQXFCLEVBQXJCLEVBQXlCO0FBQ3RDLE1BQUksTUFBTSxJQUFJLGNBQUosRUFBVjtBQUNBLE1BQUksSUFBSixDQUFTLE1BQVQsRUFBaUIsR0FBakIsRUFBc0IsSUFBdEI7QUFDQSxNQUFJLGdCQUFKLENBQXFCLGNBQXJCLEVBQXFDLGtCQUFyQztBQUNBLE1BQUksTUFBSixHQUFhLFVBQVUsQ0FBVixFQUFhO0FBQ3hCLFFBQUksZUFBSjtBQUNBLFFBQUk7QUFDRixlQUFTLEtBQUssS0FBTCxDQUFXLElBQUksWUFBZixDQUFUO0FBQ0QsS0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1YsU0FBRyxPQUFIO0FBQ0Q7QUFDRCxPQUFHLE9BQU8sTUFBVjtBQUNELEdBUkQ7QUFTQSxNQUFJLElBQUosQ0FBUyxLQUFLLFNBQUwsQ0FBZSxJQUFmLENBQVQ7QUFDRCxDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxyXG5pbXBvcnQgcHJlcGFyZVNlbmQgZnJvbSAnLi9wcmVwYXJlU2VuZCc7XHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtZGF0ZVwiKS5pbm5lckhUTUwgPSBEYXRlKCk7Ly8udG9TdHJpbmcoKS5zcGxpdCgnICcpLnNwbGljZSgxLDMpLmpvaW4oJyAnKTtcclxuXHJcbmNvbnN0IGZvcm1BZGROZXdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1uZXdzJyk7XHJcblxyXG5mb3JtQWRkTmV3cy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBwcmVwYXJlU2VuZFBvc3QpO1xyXG5cclxuZnVuY3Rpb24gcHJlcGFyZVNlbmRQb3N0KGUpIHsgICAgXHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxyXG4gICAgY29uc29sZS5sb2coZSk7ICBcclxuICAgIFxyXG4gICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgIGF1dGhvcjogJ0xlbmEgUmljYWJhbCBBdmlsZXMnLFxyXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB0ZXh0OiBmb3JtQWRkTmV3cy50ZXh0LnZhbHVlXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBwcmVwYXJlU2VuZCgnL2FkZHBvc3QnLCBmb3JtQWRkTmV3cywgZGF0YSk7XHJcbiAgfSIsImltcG9ydCBzZW5kQWpheEpzb24gZnJvbSAnLi9zZW5kQWpheCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmVwYXJlU2VuZCh1cmwsIGZvcm0sIGRhdGEsIGNiKSB7XHJcbiAgbGV0IHJlc3VsdENvbnRhaW5lciA9IGZvcm0ucXVlcnlTZWxlY3RvcignLnN0YXR1cycpO1xyXG4gIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSAnU2VuZGluZy4uLic7XHJcbiAgc2VuZEFqYXhKc29uKHVybCwgZGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGZvcm0ucmVzZXQoKTtcclxuICAgIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgIGNiKGRhdGEpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHVybCwgZGF0YSwgY2IpIHtcclxuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xyXG4gIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNiKCdFcnJvcicpO1xyXG4gICAgfVxyXG4gICAgY2IocmVzdWx0LnN0YXR1cyk7XHJcbiAgfTtcclxuICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbn0iXX0="}