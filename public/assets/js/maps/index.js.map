{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/index.js","source/js/prepareSend.js","source/js/sendAjax.js"],"names":[],"mappings":"AAAA;;;ACCA;;;;;;AAEA,SAAS,cAAT,CAAwB,cAAxB,EAAwC,SAAxC,GAAoD,MAApD,C,CAA2D;;AAE3D,IAAM,cAAc,SAAS,aAAT,CAAuB,WAAvB,CAApB;;AAEA;AACA,EAAG,cAAH,EAAoB,MAApB,CAA4B,OAA5B;AACA,YAAY,gBAAZ,CAA6B,QAA7B,EAAuC,eAAvC;;AAEA,SAAS,eAAT,CAAyB,CAAzB,EAA4B;AACxB,IAAE,cAAF;;AAEA,MAAI,OAAO;AACT,YAAQ,qBADC;AAET,UAAM,IAAI,IAAJ,EAFG;AAGT,UAAM,YAAY,IAAZ,CAAiB;AAHd,GAAX;;AAMA,6BAAY,UAAZ,EAAwB,WAAxB,EAAqC,IAArC;AACA,WAAS,MAAT;AACD;;;;;;;;kBCpBqB,W;;AAFxB;;;;;;AAEe,SAAS,WAAT,CAAqB,GAArB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C;AACvD,MAAI,kBAAkB,KAAK,aAAL,CAAmB,SAAnB,CAAtB;AACA,kBAAgB,SAAhB,GAA4B,YAA5B;AACA,0BAAa,GAAb,EAAkB,IAAlB,EAAwB,UAAU,IAAV,EAAgB;AACtC,SAAK,KAAL;AACA,oBAAgB,SAAhB,GAA4B,IAA5B;AACA,QAAI,EAAJ,EAAQ;AACN,SAAG,IAAH;AACD;AACF,GAND;AAOD;;;;;;;;;kBCZc,UAAU,GAAV,EAAe,IAAf,EAAqB,EAArB,EAAyB;AACtC,MAAI,MAAM,IAAI,cAAJ,EAAV;AACA,MAAI,IAAJ,CAAS,MAAT,EAAiB,GAAjB,EAAsB,IAAtB;AACA,MAAI,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;AACA,MAAI,MAAJ,GAAa,UAAU,CAAV,EAAa;AACxB,QAAI,eAAJ;AACA,QAAI;AACF,eAAS,KAAK,KAAL,CAAW,IAAI,YAAf,CAAT;AACD,KAFD,CAEE,OAAO,CAAP,EAAU;AACV,SAAG,OAAH;AACD;AACD,OAAG,OAAO,MAAV;AACD,GARD;AASA,MAAI,IAAJ,CAAS,KAAK,SAAL,CAAe,IAAf,CAAT;AACD,C","file":"../index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\nimport prepareSend from './prepareSend';\r\n\r\ndocument.getElementById(\"current-date\").innerHTML = Date();//.toString().split(' ').splice(1,3).join(' ');\r\n\r\nconst formAddNews = document.querySelector('#add-news');\r\n\r\n// this hack to prevent double data in db\r\n$( \"#save-button\" ).unbind( \"click\" );\r\nformAddNews.addEventListener('submit', prepareSendPost);\r\n\r\nfunction prepareSendPost(e) {    \r\n    e.preventDefault(); \r\n        \r\n    let data = {\r\n      author: 'Lena Ricabal Aviles',\r\n      date: new Date(),\r\n      text: formAddNews.text.value\r\n    };\r\n    \r\n    prepareSend('/addpost', formAddNews, data);\r\n    location.reload();\r\n  }","import sendAjaxJson from './sendAjax';\r\n\r\nexport default function prepareSend(url, form, data, cb) {\r\n  let resultContainer = form.querySelector('.status');\r\n  resultContainer.innerHTML = 'Sending...';\r\n  sendAjaxJson(url, data, function (data) {\r\n    form.reset();\r\n    resultContainer.innerHTML = data;\r\n    if (cb) {\r\n      cb(data);\r\n    }\r\n  });\r\n}","export default function (url, data, cb) {\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open('POST', url, true);\r\n  xhr.setRequestHeader('Content-Type', 'application/json');\r\n  xhr.onload = function (e) {\r\n    let result;\r\n    try {\r\n      result = JSON.parse(xhr.responseText);\r\n    } catch (e) {\r\n      cb('Error');\r\n    }\r\n    cb(result.status);\r\n  };\r\n  xhr.send(JSON.stringify(data));\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvanMvaW5kZXguanMiLCJzb3VyY2UvanMvcHJlcGFyZVNlbmQuanMiLCJzb3VyY2UvanMvc2VuZEFqYXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBOzs7Ozs7QUFFQSxTQUFTLGNBQVQsQ0FBd0IsY0FBeEIsRUFBd0MsU0FBeEMsR0FBb0QsTUFBcEQsQyxDQUEyRDs7QUFFM0QsSUFBTSxjQUFjLFNBQVMsYUFBVCxDQUF1QixXQUF2QixDQUFwQjs7QUFFQTtBQUNBLEVBQUcsY0FBSCxFQUFvQixNQUFwQixDQUE0QixPQUE1QjtBQUNBLFlBQVksZ0JBQVosQ0FBNkIsUUFBN0IsRUFBdUMsZUFBdkM7O0FBRUEsU0FBUyxlQUFULENBQXlCLENBQXpCLEVBQTRCO0FBQ3hCLElBQUUsY0FBRjs7QUFFQSxNQUFJLE9BQU87QUFDVCxZQUFRLHFCQURDO0FBRVQsVUFBTSxJQUFJLElBQUosRUFGRztBQUdULFVBQU0sWUFBWSxJQUFaLENBQWlCO0FBSGQsR0FBWDs7QUFNQSw2QkFBWSxVQUFaLEVBQXdCLFdBQXhCLEVBQXFDLElBQXJDO0FBQ0EsV0FBUyxNQUFUO0FBQ0Q7Ozs7Ozs7O2tCQ3BCcUIsVzs7QUFGeEI7Ozs7OztBQUVlLFNBQVMsV0FBVCxDQUFxQixHQUFyQixFQUEwQixJQUExQixFQUFnQyxJQUFoQyxFQUFzQyxFQUF0QyxFQUEwQztBQUN2RCxNQUFJLGtCQUFrQixLQUFLLGFBQUwsQ0FBbUIsU0FBbkIsQ0FBdEI7QUFDQSxrQkFBZ0IsU0FBaEIsR0FBNEIsWUFBNUI7QUFDQSwwQkFBYSxHQUFiLEVBQWtCLElBQWxCLEVBQXdCLFVBQVUsSUFBVixFQUFnQjtBQUN0QyxTQUFLLEtBQUw7QUFDQSxvQkFBZ0IsU0FBaEIsR0FBNEIsSUFBNUI7QUFDQSxRQUFJLEVBQUosRUFBUTtBQUNOLFNBQUcsSUFBSDtBQUNEO0FBQ0YsR0FORDtBQU9EOzs7Ozs7Ozs7a0JDWmMsVUFBVSxHQUFWLEVBQWUsSUFBZixFQUFxQixFQUFyQixFQUF5QjtBQUN0QyxNQUFJLE1BQU0sSUFBSSxjQUFKLEVBQVY7QUFDQSxNQUFJLElBQUosQ0FBUyxNQUFULEVBQWlCLEdBQWpCLEVBQXNCLElBQXRCO0FBQ0EsTUFBSSxnQkFBSixDQUFxQixjQUFyQixFQUFxQyxrQkFBckM7QUFDQSxNQUFJLE1BQUosR0FBYSxVQUFVLENBQVYsRUFBYTtBQUN4QixRQUFJLGVBQUo7QUFDQSxRQUFJO0FBQ0YsZUFBUyxLQUFLLEtBQUwsQ0FBVyxJQUFJLFlBQWYsQ0FBVDtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWLFNBQUcsT0FBSDtBQUNEO0FBQ0QsT0FBRyxPQUFPLE1BQVY7QUFDRCxHQVJEO0FBU0EsTUFBSSxJQUFKLENBQVMsS0FBSyxTQUFMLENBQWUsSUFBZixDQUFUO0FBQ0QsQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcclxuaW1wb3J0IHByZXBhcmVTZW5kIGZyb20gJy4vcHJlcGFyZVNlbmQnO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LWRhdGVcIikuaW5uZXJIVE1MID0gRGF0ZSgpOy8vLnRvU3RyaW5nKCkuc3BsaXQoJyAnKS5zcGxpY2UoMSwzKS5qb2luKCcgJyk7XHJcblxyXG5jb25zdCBmb3JtQWRkTmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtbmV3cycpO1xyXG5cclxuLy8gdGhpcyBoYWNrIHRvIHByZXZlbnQgZG91YmxlIGRhdGEgaW4gZGJcclxuJCggXCIjc2F2ZS1idXR0b25cIiApLnVuYmluZCggXCJjbGlja1wiICk7XHJcbmZvcm1BZGROZXdzLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHByZXBhcmVTZW5kUG9zdCk7XHJcblxyXG5mdW5jdGlvbiBwcmVwYXJlU2VuZFBvc3QoZSkgeyAgICBcclxuICAgIGUucHJldmVudERlZmF1bHQoKTsgXHJcbiAgICAgICAgXHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgYXV0aG9yOiAnTGVuYSBSaWNhYmFsIEF2aWxlcycsXHJcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgIHRleHQ6IGZvcm1BZGROZXdzLnRleHQudmFsdWVcclxuICAgIH07XHJcbiAgICBcclxuICAgIHByZXBhcmVTZW5kKCcvYWRkcG9zdCcsIGZvcm1BZGROZXdzLCBkYXRhKTtcclxuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gIH0iLCJpbXBvcnQgc2VuZEFqYXhKc29uIGZyb20gJy4vc2VuZEFqYXgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGFyZVNlbmQodXJsLCBmb3JtLCBkYXRhLCBjYikge1xyXG4gIGxldCByZXN1bHRDb250YWluZXIgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMnKTtcclxuICByZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gJ1NlbmRpbmcuLi4nO1xyXG4gIHNlbmRBamF4SnNvbih1cmwsIGRhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBmb3JtLnJlc2V0KCk7XHJcbiAgICByZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gZGF0YTtcclxuICAgIGlmIChjYikge1xyXG4gICAgICBjYihkYXRhKTtcclxuICAgIH1cclxuICB9KTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGNiKSB7XHJcbiAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcclxuICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjYignRXJyb3InKTtcclxuICAgIH1cclxuICAgIGNiKHJlc3VsdC5zdGF0dXMpO1xyXG4gIH07XHJcbiAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG59Il19"}